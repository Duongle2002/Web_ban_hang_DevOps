FROM node:18

WORKDIR /app

# Install dependencies (including devDependencies) for testing
COPY package.json package-lock.json ./
RUN npm ci

# Copy source
COPY . .

# Default command runs tests
CMD ["npm", "test"]
